<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Configurações - Sherloc</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
    <div class="page-wrapper">
        <aside class="sidebar">
            <div id="sidebar-avatar-container">
                <img src="https://via.placeholder.com/50" alt="Avatar" id="sidebar-avatar">
            </div>
            <div class="sidebar-brand">
                <span class="icon">S.</span>
                <span class="logo-text">Sherloc</span>
            </div>
            <nav class="sidebar-nav">
                <a href="/dashboard.html"><i class="bi bi-grid-1x2-fill icon"></i><span class="link-text">Dashboard</span></a>
                <a href="/perfil.html"><i class="bi bi-person-circle icon"></i><span class="link-text">Meu Perfil</span></a>
                <a href="/configuracoes.html"><i class="bi bi-gear-fill icon"></i><span class="link-text">Configurações</span></a>
            </nav>
            <footer class="sidebar-footer">
                <a href="#" id="logout-button"><i class="bi bi-box-arrow-right icon"></i><span class="link-text">Sair</span></a>
            </footer>
        </aside>

        <main class="main-content">
            <header>
                <h1>Configurações</h1>
                <p>Ajuste suas preferências e gerencie sua conta.</p>
            </header>

            <div class="card">
                <h2>Perfil Público</h2>
                <p class="text-muted">Essas informações podem ser vistas por outros usuários.</p>

                <div class="avatar-upload-section">
                    <img src="https://via.placeholder.com/100" alt="Avatar" id="avatar-preview" class="avatar-preview">
                    <div>
                        <button type="button" id="upload-avatar-btn" class="btn btn-secondary">Trocar Foto</button>
                        <input type="file" id="avatar-input" accept="image/png, image/jpeg" style="display: none;">
                        <p class="text-muted" style="font-size: 0.8rem; margin-top: 0.5rem;">PNG ou JPG, máx 2MB.</p>
                    </div>
                </div>

                <form id="settings-form">
                    <div class="form-group">
                        <label for="username-input">Nome de Usuário</label>
                        <input type="text" id="username-input" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="bio-input">Sua Bio</label>
                        <textarea id="bio-input" class="form-control" rows="4" placeholder="Conte um pouco sobre você..."></textarea>
                    </div>
                    <p id="error-message" class="error-text"></p>
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </form>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabaseClient.js"></script>
    <script src="js/session.js"></script>
    <script src="js/user-display.js"></script>
    <script src="js/logout.js"></script>
    <script src="js/configuracoes.js"></script>
</body>
</html>